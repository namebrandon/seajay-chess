# SeaJay Chess Engine - Stage 15 Day 3
# Static Exchange Evaluation Test Positions
# All positions validated against Stockfish 16.1
# Format: FEN move expected_see "description"

# Basic X-ray tests
1k2r3/1pp4p/p7/4p3/8/P5P1/1PP4P/2K1R3 w - - 0 1 e1e5 -400 "Rook takes pawn with rook x-ray"
4k3/8/8/3pP3/8/8/3R4/3RK3 w - - 0 1 d2d5 0 "Rook takes pawn with rook x-ray backup"
4k3/8/4b3/3p4/2B5/1B6/8/4K3 w - - 0 1 c4d5 -225 "Bishop takes pawn with bishop x-ray"

# Queen x-rays (can x-ray as both bishop and rook)
4k3/8/8/3p4/3Q4/8/3R4/4K3 w - - 0 1 d4d5 100 "Queen takes pawn with rook x-ray backup"
4k3/8/4p3/3q4/2Q5/1Q6/8/4K3 w - - 0 1 c4d5 0 "Queen takes queen with queen x-ray"

# Complex x-ray scenarios
r3k2r/p1ppqpb1/bn2pnp1/3PN3/1p2P3/2N2Q1p/PPPBBPPP/R3K2R w KQkq - 0 1 e5f7 -225 "Knight sac with queen x-ray"
r2q1rk1/ppp2ppp/2n1bn2/2bpp3/3PP3/2N2N2/PPP1BPPP/R1BQKR2 w Qq - 0 1 d4e5 0 "Central pawn exchange"

# Battery x-rays
2kr4/8/8/8/8/8/3R4/2KR4 w - - 0 1 d2d8 0 "Rook battery x-ray"
1kb5/8/8/3p4/8/2B5/1B6/1K6 w - - 0 1 c3d4 100 "Bishop battery takes pawn"

# X-ray with promotion
7k/4P3/8/8/8/8/4r3/4R2K w - - 0 1 e7e8q 575 "Promotion with rook x-ray defense"

# False x-rays (pieces not on ray)
4k3/8/8/3p4/3P4/8/1B6/4K3 w - - 0 1 d4d5 -100 "Pawn takes pawn, bishop not on ray"
4k3/8/4p3/8/2n1P3/8/8/R3K2R w - - 0 1 a1a7 0 "Rook move, knight not blocking"

# Multiple attackers and x-rays
r3r1k1/1pq2ppp/p1n1bn2/2Ppp3/8/2N1PN2/PP2BPPP/R2QR1K1 w - - 0 1 c3d5 -75 "Knight takes with multiple pieces"
2rr2k1/pp3ppp/2n1bn2/q1Ppp3/8/2NBPN2/PP2QPPP/2RR2K1 w - - 0 1 d3e5 -200 "Bishop takes with heavy pieces"

# En passant with x-ray
8/8/8/3pP3/8/8/3R4/3RK2k w - d6 0 1 e5d6 100 "En passant with rook x-ray"

# Discovered attacks (not x-rays in SEE context)
r1bqk2r/pppp1ppp/2n2n2/2b1p3/2B1P3/3P1N2/PPP2PPP/RNBQK2R w KQkq - 0 1 f3e5 0 "Knight takes with discovered attack"

# Edge cases
8/4k3/8/2KpP3/8/8/8/8 w - d6 0 1 e5d6 100 "King and en passant"
k7/8/8/3p4/3P4/8/8/K7 w - - 0 1 d4d5 -100 "Kings only endgame"

# Pinned pieces (SEE ignores pins)
r3k3/8/8/8/b3R3/8/8/4K3 w - - 0 1 e4a4 -400 "Rook takes bishop (pinned but SEE ignores)"

# Stockfish validation positions
r1bqkbnr/pppp1ppp/2n5/4p3/2B1P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3 c6d4 100 "Knight takes pawn"
rnbqkb1r/pp1ppppp/5n2/2p5/4P3/5N2/PPPP1PPP/RNBQKB1R w KQkq - 0 3 f3e5 100 "Knight takes pawn"
r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 0 4 f3e5 0 "Knight exchange"